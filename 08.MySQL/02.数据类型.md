# 数据类型

MySQL支持的类型非常多，选择正确的数据类型对于获得高性能至关重要。不管存储哪种数据类型的数据，下面几个简单的原则都有助于做出更好的选择。

:star: 更小的通常更好  
一般情况下，应该尽量使用可以正确存储的最小数据类型。更小的数据类型通常更快，因为他们占用更小的磁盘、内存和CPU缓存，并且处理时需要的CPU周期也更少。

:star: 简单就好  
简单数据类型的操作通常需要更少的CPU周期。例如，整型比字符操作代价更低，因为字符集和校对规则（排序规则）使字符比较比整型比较更复杂。（例如：应该使用MySQL内建类型，而不是使用字符串存储日期和时间；使用整型存储IP地址等等）

:star: 尽量避免NULL  
很多表都包含可为NULL（空值）的列，即使应用程序并不需要保存NULL值也是如此，这是因为可为NULL是列的默认属性。通常情况下最好指定列为NOT NULL，除非真的需要存储NULL值。

如果查询中包含可为NULL的列，对MySQL来说更难优化，因为可为NULL的列使得索引、索引统计和值比较都更复杂。可为NULL的列回事用更多的存储空间，在MySQL里也需要特殊处理。当可为NULL的列被索引时，每个索引记录都需要一个额外的字节，在MyISAM里甚至还可能导致固定大小的索引（例如只有一个整数列的索引）变成可变大小的索引。

通常把可为NULL的列改为NOT NULL带来的性能提升比较小，所以调优时没有必要首先在现有schema中查找并修改掉这种情况，除非确定这回导致问题。但是，如果在计划列上建立索引，就应该力量避免设计成可为NULL的列。

在为列选择数据类型时，第一步需要确定合适的大类型：数字、字符串、时间等。这通常是很简单的，但是会有一些数据类型的选择不那么的直观，很多MySQL的数据类型可以存储相同类型的数据，只是存储的长度和范围不一样、允许的精度不同，或者需要的物理空间（磁盘和内存空间）不同。相同大类型的不同子类型数据有时也有一些特殊的行为和属性。

比如，datetime 和 timestamp 列，decimal 和 double 列等等。

## 整数类型

现实中有两种类型的数字：整数和实数。如果存储整数，可以使用这几种类型：`tinyint，smallint，mediumint，int，bigint` ，分别使用 8，16，24，32，64 位存储空间。

整数类型有可选的UNSIGED属性，表示不允许负值，这大致可以使正数的上限提高一倍。（例如 `tinyint unsiged` 可以存储 0~255，而 `tinyint` 的存储范围是 -128~127）

MySQL可以为正数指定宽度，例如  `int(11)` ，对于大多数应用这个是没有意义的，它不会限制值的合法范围，只是规定了MySQL的一些交互工具用来显示字符的数。对于存储和计算来说， `int(1)` 和 `int(20)` 是相同的。

## 实数类型

实数类型是带有小数点部分的数字。然后它们不只是为了存储小数部分，也可以使用 decimal 存储比 bigint 还大的整数。MySQL即支持精确类型，也支持不精确类型。


# 范式和反范式



