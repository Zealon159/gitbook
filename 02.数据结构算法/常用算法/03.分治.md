# 分治算法

分治，顾名思义就是分而治之，是一种很古老但很实用的策略，或者说战略。本意是将一个较大的问题拆分成许多小的问题来解决。小问题都解决了，大问题也就解决了。

在现实生活中，什么样的问题才能使用分治法解决呢，简单来说，需要满足以下3个条件：

- 原问题可分解为若干个规模较小的相同子问题。
- 子问题相互独立。
- 子问题的解可以合并为原问题的解。

比如国家人口普查，这是一个很大的问题，一下子普查完是很难的，但是可以分治为每个省市县乡来进行统计就比较合适了。再比如综艺节目海选，也是使用分治法，在每个代表城市分别进行海选，然后再选择比较优秀的选手参加比赛等等。

## 分治算法秘籍

分治法解题的一般步骤：

1. **分解：**将要解决的问题分解为若干个规模较小、相互独立、与原问题形式相同的子问题。
2. **治理：**求解各个子问题。由于各个子问题与原问题形式相同，只是规模较小而已，而当子问题划分得足够小时，就可以用较为简单的方法解决。
3. **合并：**按原问题的要求，将子问题的解逐层合并构成原问题的解。

在分治算法中，各个子问题形式相同，解决的方法也一样，因此我们可以使用递归算法快速解决，递归是彰显分治法优势的利器。

# 算法应用

## 二分搜索

二分搜索算法是一个时间复杂度为 O(logn) 的算法，这是一种极其高效的时间复杂度。有的时候甚至比时间复杂度是常量级 O(1) 的算法还要高效。 

生活例子：

> 小时候电视节目，有个猜价格的游戏，每个人都有3次机会，最终猜的价格越接近上品的价格，那么这个商品就是你的了。大致过程如下：
>
> 主持人：“xxx双开门冰箱，请猜价格。”
>
> 参与人：“3000元。”
>
> 主持人：“少了，请第二次猜价格。”
>
> 参与人：“2800元。”
>
> 主持人：“少了，请第三次猜价格。”
>
> ...
>
> 电视机旁边的你："天啊！怎么会有怎么笨的笨蛋？"

问题分析，如果是n个数，那么最坏的情况要猜n次，其实我们没有必要一个一个地猜，因为这些数都是有序的，它是一个二分搜索问题。我们可以使用折半查找策略，每次和中间元素比较，如果中间元素小，则在前半部分查找，如果比中间值大，则去后半部分查找。

### 算法设计

利用二分思想，每次都与区间的中间数据比对大小，缩小查找区间的范围，例如一个班级的考试成绩分数：8，11，19，23，27，33，45，55，67，98，需要查找19分为止，如下图：

![](images/03-01.jpg)

其中，low 和 high 表示待查找区间的下标，mid 表示待查找区间的中间元素下标。

二分查找针对的是一个有序的数据集合，查找思想有点类似分治思想。每次都通过跟区间的中间元素对比，将待查找的区间缩小为之前的一半，直到找到要查找的元素，或者区间被缩小为 0。

### 代码实现

```
/**
 * 二分搜索
 * @param nums 有序数组
 * @param target 待查找数值
 * @return
 */
private static int binarySearch(int[] nums,int target) {
    if(null == nums) return -1;
    int low = 0,high = nums.length-1;
    while (low <= high){
        int mid = low + (high - low) / 2;
        if(target == nums[mid]){
            return mid;
        }else if(target < nums[mid]){
            high = mid - 1;
        }else if(target > nums[mid]){
            low = mid + 1;
        }
    }
    return -1;
}
```

### 应用场景及局限性

:star: **二分查找依赖的是顺序表结构，简单点说就是数组。**

 二分查找只能用在数据是通过顺序表来存储的数据结构上。如果你的数据是通过其他数据结构存储的，则无法应用二分查找。

:star: **二分查找针对的是有序数据。**

二分查找对这一点的要求比较苛刻，数据必须是有序的。如果数据没有序，我们需要先排序。 

:star: **数据量太小不适合二分查找**

如果要处理的数据量很小，完全没有必要用二分查找，顺序遍历就足够了。比如我们在一个大小为 15 的数组中查找一个元素，不管用二分查找还是顺序遍历，查找速度都差不多。只有数据量比较大的时候，二分查找的优势才会比较明显。

**:star: 数据量太大也不适合二分查找**

二分查找的底层需要依赖数组这种数据结构，而数组为了支持随机访问的特性，要求内存空间连续，对内存的要求比较苛刻。

## 归并排序

